# 🚀 並列開発ワークフローガイド

Cursorのチャット（AI）を複数同時に使って、開発スピードを2倍・3倍にするためのガイドです。
Gitブランチを活用することで、お互いの作業を邪魔せずに安全に進めることができます。

---

## 👥 コンセプト

**「複数のAI担当者」** に、**「別々の作業部屋（ブランチ）」** で同時に作業してもらい、最後に合体させます。

- **AI Aさん:** ヒーローセクション担当（`feature/hero` 部屋）
- **AI Bさん:** Aboutセクション担当（`feature/about` 部屋）
- **あなた:** 指示出し ＆ 最後の合体（マージ）担当

---

## 🛠️ 手順ステップ

### 1. 準備：チャットウィンドウを複数開く

Cursorの `Cmd + N` (macOS) または `Ctrl + N` (Windows) で、新しいウィンドウを立ち上げるか、チャットタブを複数用意します。

### 2. AI Aさんへの指示（例：ヒーローセクション）

1つ目のチャットで以下のように指示します。

```text
developブランチから `feature/hero` ブランチを作成して、
Figmaのヒーローセクション（Node ID: xxx）の実装を進めてください。
```

### 3. AI Bさんへの指示（例：Aboutセクション）

**重要:** 2つ目のチャットでは、**必ず「developから分岐して」** と伝えてください。（そうしないと、AI Aさんの作業途中の部屋から分岐してしまう可能性があります）

```text
一度 `develop` ブランチに戻ってから、
`feature/about` ブランチを作成して、
FigmaのAboutセクション（Node ID: yyy）の実装を進めてください。
```

---

### 4. 待機中（AI作業中）

それぞれのAIが作業します。
ファイルが適切に分割されていれば（`_hero.scss`, `_about.scss` など）、お互いに干渉しません。

---

### 5. 合体（マージ）作業

両方のAIから「完了しました」と報告があったら、ターミナルで以下のコマンドを実行して統合します。

```bash
# 1. 開発用メインブランチに戻る
git checkout develop

# 2. 最新の状態にする（念のため）
git pull origin develop

# 3. ヒーローセクションを取り込む
git merge feature/hero
# （エディタが開いたらそのまま閉じてOK、または :wq で保存）

# 4. Aboutセクションを取り込む
git merge feature/about

# 5. 不要になったブランチを削除（任意）
git branch -d feature/hero
git branch -d feature/about
```

---

### 6. 統合プレビュー（全体確認）

セクションごとのマージが終わったら、ページ全体の繋がりを確認します。

1. **AIに指示する**

   > 「統合プレビューを更新して」
   > 「index.htmlに最新のセクションを反映して」

2. **ブラウザで確認**
   `static-preview/index.html` を開いて、全体のレイアウトを確認します。
   （AIが自動で各セクションのHTMLを `index.html` に結合します）

---

## ⚠️ トラブルシューティング（コンフリクト）

もし `git merge` の時に **「CONFLICT (content): Merge conflict in...」** と出たら、同じ行を両方のAIが編集してしまっています。

### よくある発生場所

- `style.scss`（両方が `@use` を追加しようとした時）
- `index.html`（両方が `<link>` を追加しようとした時）

### 対処法

1. VS Codeの画面で「競合」タブが開くので確認する。
2. **「両方の変更を取り込む」** を選択する（大抵の場合、両方の追記が必要だから）。
3. 修正したら以下を実行：
   ```bash
   git add .
   git commit -m "🔀 merge: 競合を解消"
   ```

---

## ✅ 成功のコツ

1. **ファイル分割:** `_hero.scss`, `_about.scss` のように、最初からファイルを分けておくと競合しません。
2. **共通ファイルはいじらない:** `_variables.scss` などの共通設定は、並列作業中に変更させないようにしましょう（事前に決めておく）。
3. **こまめなマージ:** あまりに長く分岐させず、1セクション終わったらすぐマージするのが安全です。
